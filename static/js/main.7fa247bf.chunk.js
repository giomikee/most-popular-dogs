(this["webpackJsonpmost-popular-dogs"]=this["webpackJsonpmost-popular-dogs"]||[]).push([[0],{20:function(e,t,n){e.exports=n(34)},25:function(e,t,n){},26:function(e,t,n){},27:function(e,t,n){},33:function(e,t,n){},34:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(3),c=n.n(r);n(25),n(26),n(27);function s(){return o.a.createElement("header",null,o.a.createElement("h1",null,"Most Popular Dog Breeds"),o.a.createElement("h2",{className:"subtitle"},"(based on number of stored images)"))}var u=n(1),i=n(5),l=n(11),d=n(12),p=n(19),g=n(18),m=n(4),h="".concat("https://dog.ceo/api/breed","s/list/all"),f=n(14),E=(n(33),function(e,t){return e.numImages>t.numImages?-1:e.numImages<t.numImages?1:0}),b=function(e){Object(p.a)(n,e);var t=Object(g.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.props.fetchDogBreeds().then((function(){var t=e.props.dogs,n=[];t.forEach((function(t){return n.push(e.props.fetchDogBreedImages(t.breed))})),Promise.all(n).then((function(){return e.props.getTopDogs(t,E)}))}))}},{key:"render",value:function(){var e=this.props,t=e.error,n=e.topDogs;return t?o.a.createElement("div",null,t.message):0===n.length?o.a.createElement("div",null,"Loading chart..."):o.a.createElement(f.a,{className:"pie-chart",width:"100%",height:"600px",chartType:"PieChart",loader:o.a.createElement("div",null,"Loading Chart"),data:[["Breed","Images"]].concat(Object(i.a)(n.map((function(e){return[e.breed,e.numImages]})))),options:{title:"Popular Dog Breeds",is3D:!0,backgroundColor:"#6B849A"}})}}]),n}(a.Component),D=Object(m.b)((function(e){return Object(u.a)({},e)}),{fetchDogBreeds:function(){return function(e){return fetch(h).then((function(e){return e.json()})).then((function(t){return e({type:"FETCH_DOG_BREEDS",payload:Object.keys(t.message)})})).catch((function(t){return e({type:"FETCH_ERROR",payload:t})}))}},fetchDogBreedImages:function(e){return function(t){return fetch("".concat("https://dog.ceo/api/breed","/").concat(e,"/images")).then((function(e){return e.json()})).then((function(n){return t({type:"FETCH_DOG_BREED_IMAGES",breed:e,payload:n.message.length})})).catch((function(e){return t({type:"FETCH_ERROR",payload:e})}))}},getTopDogs:function(e,t){return function(n){n({type:"GET_TOP_DOGS",payload:Object(i.a)(e).sort(t).slice(0,10),areTopDogsCalculated:!0})}}})(b);var O=function(){return o.a.createElement("div",{className:"App"},o.a.createElement(s,null),o.a.createElement(D,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var v=n(16),y=n(2),T={dogs:[],topDogs:[],error:null},j=n(17),_=[v.a],B=Object(y.createStore)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_DOG_BREEDS":return Object(u.a)({},e,{dogs:t.payload.map((function(e){return{breed:e,numImages:0}}))});case"FETCH_DOG_BREED_IMAGES":var n=e.dogs.findIndex((function(e){return e.breed===t.breed}));return e.dogs[n].numImages=t.payload,Object(u.a)({},e,{isLastBreedLoaded:t.isLastBreedLoaded});case"FETCH_ERROR":return Object(u.a)({},e,{error:t.payload});case"GET_TOP_DOGS":return Object(u.a)({},e,{topDogs:t.payload,areTopDogsCalculated:t.areTopDogsCalculated});default:return e}}),Object(j.composeWithDevTools)(y.applyMiddleware.apply(void 0,_)));c.a.render(o.a.createElement(m.a,{store:B},o.a.createElement(O,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[20,1,2]]]);
//# sourceMappingURL=main.7fa247bf.chunk.js.map